{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "$id": "https://filterflix.app/schema/timestamps.json",
  "title": "FilterFlix Timestamp Schema",
  "description": "Schema for movie/show content filtering timestamps",
  "type": "object",
  "required": ["title", "imdb_id", "timestamps"],
  "properties": {
    "title": {
      "type": "string",
      "description": "Movie or show title"
    },
    "imdb_id": {
      "type": "string",
      "pattern": "^tt[0-9]+$",
      "description": "IMDb ID (e.g., tt1234567)"
    },
    "year": {
      "type": "integer",
      "minimum": 1900,
      "maximum": 2100,
      "description": "Release year"
    },
    "runtime_minutes": {
      "type": "integer",
      "minimum": 1,
      "description": "Total runtime in minutes"
    },
    "platforms": {
      "type": "array",
      "items": {
        "enum": ["netflix", "prime", "disney", "hbo", "hulu", "other"]
      },
      "description": "Available streaming platforms"
    },
    "timestamps": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["start", "end", "type", "severity"],
        "properties": {
          "start": {
            "type": "string",
            "pattern": "^[0-9]{2}:[0-9]{2}:[0-9]{2}$",
            "description": "Start time (HH:MM:SS)"
          },
          "end": {
            "type": "string",
            "pattern": "^[0-9]{2}:[0-9]{2}:[0-9]{2}$",
            "description": "End time (HH:MM:SS)"
          },
          "type": {
            "enum": ["nudity", "profanity", "violence", "substances", "frightening"],
            "description": "Content type category"
          },
          "severity": {
            "type": "integer",
            "minimum": 1,
            "maximum": 10,
            "description": "Severity rating (1=mild, 10=extreme)"
          },
          "description": {
            "type": "string",
            "maxLength": 500,
            "description": "Brief description of the content"
          },
          "source": {
            "type": "string",
            "description": "Data source (IMDb, user submission, etc.)"
          },
          "verified": {
            "type": "boolean",
            "default": false,
            "description": "Whether timestamp has been community-verified"
          },
          "votes": {
            "type": "object",
            "properties": {
              "accurate": { "type": "integer", "default": 0 },
              "inaccurate": { "type": "integer", "default": 0 }
            }
          }
        }
      }
    },
    "metadata": {
      "type": "object",
      "properties": {
        "last_updated": {
          "type": "string",
          "format": "date-time"
        },
        "contributors": {
          "type": "array",
          "items": { "type": "string" }
        },
        "confidence_score": {
          "type": "number",
          "minimum": 0,
          "maximum": 1,
          "description": "Overall confidence in timestamp accuracy"
        },
        "version": {
          "type": "integer",
          "minimum": 1
        }
      }
    }
  }
}
